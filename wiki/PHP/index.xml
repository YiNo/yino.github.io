<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>PHP on sun17 wiki</title><link>https://kangkang17.cn/wiki/PHP/</link><description>Recent content in PHP on sun17 wiki</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://kangkang17.cn/wiki/PHP/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://kangkang17.cn/wiki/PHP/fpm%E4%BC%98%E5%8C%96/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://kangkang17.cn/wiki/PHP/fpm%E4%BC%98%E5%8C%96/</guid><description>php-fpm 优化 # 采用FastCGi 协议 多进程 fpm 常用配置
error_log 错误日志 pm static|dynamic|ondemand (pm 模式) static ：提前生成所有的子进程 dynamic：子进程是动态分配的，随着请求量的变化而变化 ondemand ：直接摒弃 不用 pm.max_children 最大子进程数量 pm.start_servers 启动时的进程数量 默认为 min_spare_servers+(max_spare_servers-min_spare_servers)/2 pm.min_spare_servers 空闲时进程数量 pm.max_spare_servers 空闲时最大进程数量 优点：版本迭代可以不用重启 php进程
缺点：执行效率差 一个请求就是一个子进程，进程对资源的开销很大。</description></item><item><title/><link>https://kangkang17.cn/wiki/PHP/function/excel-export/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://kangkang17.cn/wiki/PHP/function/excel-export/</guid><description> excel 导出 # $PHPExcel = new PHPExcel(); //实例化PHPExcel类，类似于在桌面上新建一个Excel表格 $PHPSheet = $PHPExcel-&amp;gt;getActiveSheet(); //获得当前活动sheet的操作对象 $PHPSheet-&amp;gt;setTitle(&amp;#39;卡号&amp;#39;); //给当前活动sheet设置名称 $PHPSheet-&amp;gt;setCellValue(&amp;#39;A1&amp;#39;,&amp;#39;订单号&amp;#39;) -&amp;gt;setCellValue(&amp;#39;B1&amp;#39;,&amp;#39;手机号&amp;#39;) -&amp;gt;setCellValue(&amp;#39;C1&amp;#39;,&amp;#39;是否靓号&amp;#39;) -&amp;gt;setCellValue(&amp;#39;D1&amp;#39;,&amp;#39;是否虚拟号&amp;#39;) -&amp;gt;setCellValue(&amp;#39;E1&amp;#39;,&amp;#39;卡号等级&amp;#39;); $order = D(&amp;#39;order&amp;#39;)-&amp;gt;select(); foreach ($order as $key =&amp;gt; $val){ } $PHPSheet-&amp;gt;setCellValue(&amp;#39;A2&amp;#39;,&amp;#39;张三&amp;#39;)-&amp;gt;setCellValue(&amp;#39;B2&amp;#39;,&amp;#39;50&amp;#39;); //给当前活动sheet填充数据，数据填充是按顺序一行一行填充的，假如想给A1留空，可以直接setCellValue(‘A1’,’’); //$PHPSheet-&amp;gt;setCellValue(&amp;#39;A2&amp;#39;,&amp;#39;张三&amp;#39;)-&amp;gt;setCellValue(&amp;#39;B2&amp;#39;,&amp;#39;50&amp;#39;); $PHPWriter = PHPExcel_IOFactory::createWriter($PHPExcel,&amp;#39;Excel2007&amp;#39;);//按照指定格式生成Excel文件，‘Excel2007’表示生成2007版本的xlsx，‘Excel5’表示生成2003版本Excel文件 header(&amp;#39;Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&amp;#39;);//告诉浏览器输出07Excel文件 //header(&amp;#39;Content-Type:application/vnd.ms-excel&amp;#39;);//告诉浏览器将要输出Excel03版本文件 header(&amp;#39;Content-Disposition: attachment;filename=&amp;#34;card_import_template.xlsx&amp;#34;&amp;#39;);//告诉浏览器输出浏览器名称 header(&amp;#39;Cache-Control: max-age=0&amp;#39;);//禁止缓存 $PHPWriter-&amp;gt;save(&amp;#34;php://output&amp;#34;);</description></item><item><title/><link>https://kangkang17.cn/wiki/PHP/function/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%95%B0%E7%BB%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://kangkang17.cn/wiki/PHP/function/%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%95%B0%E7%BB%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/</guid><description>数组转换成对象
function array2object($array) { if (is_array($array)) { $obj = new StdClass(); foreach ($array as $key =&amp;gt; $val){ $obj-&amp;gt;$key = $val; } } else { $obj = $array; } return $obj; } 对象转换成数组
function object2array($object) { if (is_object($object)) { foreach ($object as $key =&amp;gt; $value) { $array[$key] = $value; } } else { $array = $object; } return $array; }</description></item><item><title/><link>https://kangkang17.cn/wiki/PHP/function/%E5%B8%B8%E7%94%A8header/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://kangkang17.cn/wiki/PHP/function/%E5%B8%B8%E7%94%A8header/</guid><description>常用header
header(&amp;#39;HTTP/1.1 200 OK&amp;#39;); // ok 正常访问 header(&amp;#39;HTTP/1.1 404 Not Found&amp;#39;); //通知浏览器 页面不存在 header(&amp;#39;HTTP/1.1 301 Moved Permanently&amp;#39;); //设置地址被永久的重定向 301 header(&amp;#39;Location: http://www.ithhc.cn/&amp;#39;); //跳转到一个新的地址 header(&amp;#39;Refresh: 10; url=http://www.ithhc.cn/&amp;#39;); //延迟转向 也就是隔几秒跳转 header(&amp;#39;X-Powered-By: PHP/6.0.0&amp;#39;); //修改 X-Powered-By信息 header(&amp;#39;Content-language: en&amp;#39;); //文档语言 header(&amp;#39;Content-Length: 1234&amp;#39;); //设置内容长度 header(&amp;#39;Last-Modified: &amp;#39;.gmdate(&amp;#39;D, d M Y H:i:s&amp;#39;, $time).&amp;#39; GMT&amp;#39;); //告诉浏览器最后一次修改时间 header(&amp;#39;HTTP/1.1 304 Not Modified&amp;#39;); //告诉浏览器文档内容没有发生改变 ###内容类型### header(&amp;#39;Content-Type: text/html; charset=utf-8&amp;#39;); //网页编码 header(&amp;#39;Content-Type: text/plain&amp;#39;); //纯文本格式 header(&amp;#39;Content-Type: image/jpeg&amp;#39;); //JPG、JPEG header(&amp;#39;Content-Type: application/zip&amp;#39;); // ZIP文件 header(&amp;#39;Content-Type: application/pdf&amp;#39;); // PDF文件 header(&amp;#39;Content-Type: audio/mpeg&amp;#39;); // 音频文件 header(&amp;#39;Content-type: text/css&amp;#39;); //css文件 header(&amp;#39;Content-type: text/javascript&amp;#39;); //js文件 header(&amp;#39;Content-type: application/json&amp;#39;); //json header(&amp;#39;Content-type: application/pdf&amp;#39;); //pdf header(&amp;#39;Content-type: text/xml&amp;#39;); //xml header(&amp;#39;Content-Type: application/x-shockw**e-flash&amp;#39;); //Flash动画 ###### ###声明一个下载的文件### header(&amp;#39;Content-Type: application/octet-stream&amp;#39;); header(&amp;#39;Content-Disposition: attachment; filename=&amp;#34;ITblog.</description></item></channel></rss>